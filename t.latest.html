<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <title>samidare template sample</title>
    <meta name="generator" content="samidare" />
    <meta name="ROBOTS" content="INDEX, NOFOLLOW" />
    <!--
    <meta http-equiv="content-style-type" content="text/css" />
    <link rel="stylesheet" href="tdiary/theme/base.css" type="text/css" media="all" />
    <link rel="stylesheet" href="tdiary/theme/default/default.css" title="default" type="text/css" media="all" />
    -->
  </head>
  <body>
    <h1>五月雨サンプルアンテナ</h1>
    <div class="day" _iter="
      [
        ['General', data['antenna'].find_all {|v| /\.2ch\.net|read\.cgi|www\.ichigobbs\.net|jbbs\.livedoor\.jp/ !~ v['URI'] }],
        ['bbs', data['antenna'].find_all {|v| /\.2ch\.net|read\.cgi|www\.ichigobbs\.net/ =~ v['URI'] }],
        ['Update information is taken from other system:', data['update_info']]
      ].each//category,entries">
      <h2 _text="category">category</h2>
      <div class="body">
        <ol>
          <li _iter="entries.each//entry">
            <span _text="
              entry['last-modified'] ?
              entry['last-modified'].strftime('%m-%d %H:%M') :
              '- no log -'">date</span>
            <span _if="true">&#32;</span>
	    <span _if="fragment = URI(entry['linkURI']).fragment"/>
	    <span _if="fragment_suffix = fragment ? '#' + fragment : ''"/>
            <span _if="log = current_cache(entry)" _else=x>
              <a  _attr_href="log['content'].pathname + fragment_suffix">C</a>
            </span>
            <span _template=x>X</span>
            <span _if="true">&#32;</span>
            <a _attr_href="entry['linkURI']">
              <span _text="entry['title']">title</span>
              <span _if="author = entry['author']"> (<span _text="author">author</span>)</span>
            </a>&#32;<span _text="entry['info']">[info]</span>[<span _iter="
              entry['_log'].map {|log|
                log['content']
              }.compact.find_all {|content|
                content.exist?
              }.reverse.each_with_index//content,i
              "><span _if="i != 0">&#32;</span><a _attr_href="content.pathname + fragment_suffix" _text="i">i</a></span>]</li>
        </ol>
      </div>
    </div>
    <hr class="sep" />
    <div class="footer">
      <a href="sites.lirs.gz">sites.lirs.gz</a><br />
      <a href="http://cvs.m17n.org/viewcvs/ruby/samidare/">五月雨</a>
    </div>
  </body>
</html>
